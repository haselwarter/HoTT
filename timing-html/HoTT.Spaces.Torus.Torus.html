<html>
<head>
<title>Torus.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Torus.v</h1>

<div class="code" title="File: Torus.v
Line: 1
Time: 0.05s">
<div class="time" style="width: 100%"></div>
<pre>Require Import Basics Types.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 1
Time: 0.01s">
<div class="time" style="width: 20%"></div>
<pre>
Require Import Cubical.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 2
Time: 0.049s">
<div class="time" style="width: 98%"></div>
<pre>
Require Import Spaces.Circle.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* In this file we define the Torus as a HIT generated by two loops and
   a square between them. *)

</pre>
</div>
<div class="code" title="File: Torus.v
Line: 7
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation hr := (sq_refl_h _).</pre>
</div>
<div class="code" title="File: Torus.v
Line: 7
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Notation vr := (sq_refl_v _).</pre>
</div>
<div class="code" title="File: Torus.v
Line: 8
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Module Export Torus.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Private Inductive Torus :=
    | tbase.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Axiom loop_a : tbase = tbase.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 15
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Axiom loop_b : tbase = tbase.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 16
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Axiom surf : PathSquare loop_a loop_a loop_b loop_b.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 17
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* We define the induction principle for Torus *)
 </pre>
</div>
<div class="code" title="File: Torus.v
Line: 20
Time: 0.001s">
<div class="time" style="width: 2%"></div>
<pre>Definition Torus_ind (P : Torus -&gt; Type) (pb : P tbase)
    (pla : DPath P loop_a pb pb) (plb : DPath P loop_b pb pb)
    (ps : DPathSquare P surf pla pla plb plb) (x : Torus) : P x.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 22
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 23
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    by destruct x.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 24
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* We declare propsitional computational rules for loop_a and loop_b *)
 </pre>
</div>
<div class="code" title="File: Torus.v
Line: 28
Time: 0.003s">
<div class="time" style="width: 6%"></div>
<pre>Axiom Torus_ind_beta_loop_a : forall (P : Torus -&gt; Type) (pb : P tbase)
    (pla : DPath P loop_a pb pb) (plb : DPath P loop_b pb pb)
    (ps : DPathSquare P surf pla pla plb plb), DPathSquare P hr
      (dp_apD (Torus_ind P pb pla plb ps) (loop_a)) pla 1%dpath 1%dpath.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 31
Time: 0.003s">
<div class="time" style="width: 6%"></div>
<pre>

  Axiom Torus_ind_beta_loop_b : forall (P : Torus -&gt; Type) (pb : P tbase)
    (pla : DPath P loop_a pb pb) (plb : DPath P loop_b pb pb)
    (ps : DPathSquare P surf pla pla plb plb), DPathSquare P hr
      (dp_apD (Torus_ind P pb pla plb ps) (loop_b)) plb 1%dpath 1%dpath.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 36
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* We write out the computation rule for surf even though we will not
     use it. Instead we currently have an unfinished recursion computation
     principle, but we don't currently know how to derive it from this *)
 </pre>
</div>
<div class="code" title="File: Torus.v
Line: 41
Time: 0.008s">
<div class="time" style="width: 16%"></div>
<pre>Axiom Torus_ind_beta_surf : forall (P : Torus -&gt; Type) (pb : P tbase)
    (pla : DPath P loop_a pb pb) (plb : DPath P loop_b pb pb)
    (ps : DPathSquare P surf pla pla plb plb),
      DPathCube P (cu_refl_lr _) (ds_apD (Torus_ind P pb pla plb ps) surf) ps
        (Torus_ind_beta_loop_a _ _ _ _ _) (Torus_ind_beta_loop_a _ _ _ _ _)
        (Torus_ind_beta_loop_b _ _ _ _ _) (Torus_ind_beta_loop_b _ _ _ _ _).</pre>
</div>
<div class="code" title="File: Torus.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

End Torus.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 48
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* We can now define Torus recursion as a sepcial case of Torus induction *)</pre>
</div>
<div class="code" title="File: Torus.v
Line: 50
Time: 0.002s">
<div class="time" style="width: 4%"></div>
<pre>Definition Torus_rec (P : Type) (pb : P) (pla plb : pb = pb)
  (ps : PathSquare pla pla plb plb) : Torus -&gt; P
  := Torus_ind _ pb (dp_const pla) (dp_const plb) (ds_const ps).</pre>
</div>
<div class="code" title="File: Torus.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* We can derive the recursion computation rules for Torus_rec *)</pre>
</div>
<div class="code" title="File: Torus.v
Line: 54
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Lemma Torus_rec_beta_loop_a (P : Type) (pb : P) (pla plb : pb = pb)
  (ps : PathSquare pla pla plb plb)
  : PathSquare (ap (Torus_rec P pb pla plb ps) loop_a) pla 1 1.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 56
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 57
Time: 0.028s">
<div class="time" style="width: 56%"></div>
<pre>
  refine (sq_GGcc _ (eissect _ _)
    (ds_const'^-1 (Torus_ind_beta_loop_a _ _ _ _ _))).</pre>
</div>
<div class="code" title="File: Torus.v
Line: 59
Time: 0.003s">
<div class="time" style="width: 6%"></div>
<pre>
  apply moveR_equiv_V, dp_apD_const.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 60
Time: 0.005s">
<div class="time" style="width: 10%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 61
Time: 0.001s">
<div class="time" style="width: 2%"></div>
<pre>

Lemma Torus_rec_beta_loop_b (P : Type) (pb : P) (pla plb : pb = pb)
  (ps : PathSquare pla pla plb plb)
  : PathSquare (ap (Torus_rec P pb pla plb ps) loop_b) plb 1 1.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 65
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 66
Time: 0.027s">
<div class="time" style="width: 54%"></div>
<pre>
  refine (sq_GGcc _ (eissect _ _)
    (ds_const'^-1 (Torus_ind_beta_loop_b _ _ _ _ _))).</pre>
</div>
<div class="code" title="File: Torus.v
Line: 68
Time: 0.001s">
<div class="time" style="width: 2%"></div>
<pre>
  apply moveR_equiv_V, dp_apD_const.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 69
Time: 0.005s">
<div class="time" style="width: 10%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 70
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* We ought to be able to prove this from Torus_ind_beta_surf
   but it is currently too difficult. Therefore we will leave it
   as admitted where it will simply look like an axiom. *)</pre>
</div>
<div class="code" title="File: Torus.v
Line: 74
Time: 0.002s">
<div class="time" style="width: 4%"></div>
<pre>Definition Torus_rec_beta_surf (P : Type) (pb : P) (pla plb : pb = pb)
  (ps : PathSquare pla pla plb plb)
  :  PathCube (sq_ap (Torus_rec P pb pla plb ps) surf) ps
      (Torus_rec_beta_loop_a P pb pla plb ps)
      (Torus_rec_beta_loop_a P pb pla plb ps)
      (Torus_rec_beta_loop_b P pb pla plb ps)
      (Torus_rec_beta_loop_b P pb pla plb ps).</pre>
</div>
<div class="code" title="File: Torus.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Admitted.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The torus is pointed. *)</pre>
</div>
<div class="code" title="File: Torus.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance ispointed_torus : IsPointed Torus := tbase.</pre>
</div>
<div class="code" title="File: Torus.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* TODO:
(* We ought to be able to prove the computation rules all at the same time *)
(* This gives me the idea of writing all our computation rules as a
   "dependent filler" *)
Definition Torus_rec_beta_cube (P : Type) (pb : P) (pla plb : pb = pb)
  (ps : PathSquare pla pla plb plb)
  : { ba : PathSquare (ap (Torus_rec P pb pla plb ps) loop_a) pla 1 1 &amp;
    { bb : PathSquare (ap (Torus_rec P pb pla plb ps) loop_b) plb 1 1 &amp;
    PathCube (sq_ap (Torus_rec P pb pla plb ps) surf) ps ba ba bb bb}}.
Proof.
  refine (_;_;_).
  set 
    (cu_cGcccc (eissect ds_const' _)
    (dc_const'^-1 (Torus_ind_beta_surf (fun _ =&gt; P) pb
    (dp_const pla) (dp_const plb) (ds_const' (sq_GGGG (eissect _ _)^ (eissect _ _)^ (eissect _ _)^ (eissect _ _)^ ps))))).
Admitted.
*)


</pre>
</div>
</body>
</html>

